"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(i){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(i);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(r){r(function(){var e,t,i,n;function s(){r(window).scrollTop()<=120?r(".backToTop").fadeOut():r(".backToTop").fadeIn()}function o(){r.each(r(".t-rules_content ul"),function(e,t){n.push(r(t).height())}),r(".t-rules_content ul").css({height:Math.max.apply(Math,n)})}r(".select-location").val("").trigger("change"),e=r(".o-header"),r(window).on("scroll",function(){40<r(window).scrollTop()?e.addClass("fixed"):e.removeClass("fixed")}),t=r(".o-header_burger"),i=r(".o-header_menu"),t.on("click",function(e){r(e.currentTarget).toggleClass("open"),i.toggleClass("expand")}),new Swiper(".t-privilege_wrap.swiper",{slidesPerView:1,spaceBetween:20,scrollbar:{el:".t-privilege_wrap .swiper-scrollbar"},breakpoints:{992:{slidesPerView:2,spaceBetween:32}}}),r(".backToTop").on("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),r(window).on("scroll",s),s(),n=[],new Swiper(".t-rules_wrap.swiper",{slidesPerView:"auto",spaceBetween:20,pagination:{el:".t-rules_wrap.swiper .swiper-pagination"},breakpoints:{768:{slidesPerView:2,spaceBetween:32},992:{slidesPerView:3,spaceBetween:32}}}),r(window).on("resize",o),o(),r(".t-privilege_content").matchHeight(),(new WOW).init(),window.scrollTo({top:0,behavior:"smooth"})})}(jQuery),window.addEventListener("load",function(){var n=document.getElementById("canvas1"),s=n.getContext("2d"),o=(n.width=500,n.height=500,_createClass(function e(t){var i=this;_classCallCheck(this,e),this.game=t,window.addEventListener("keydown",function(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key||-1!==i.game.keys.indexOf(e.key)?" "===e.key&&i.game.player.shootTop():i.game.keys.push(e.key)}),window.addEventListener("keyup",function(e){-1<i.game.keys.indexOf(e.key)&&i.game.keys.splice(i.game.keys.indexOf(e.key),1)})})),e=function(){function n(e,t,i){_classCallCheck(this,n),this.game=e,this.x=t,this.y=i,this.width=10,this.height=3,this.speed=3,this.markedForDeletion=!1}return _createClass(n,[{key:"update",value:function(){this.x+=this.speed,this.x>.8*this.game.width&&(this.markedForDeletion=!0)}},{key:"draw",value:function(e){e.fillStyle="yellow",e.fillRect(this.x,this.y,this.width,this.height)}}]),n}(),r=function(){function t(e){_classCallCheck(this,t),this.game=e,this.width=120,this.height=190,this.x=20,this.y=100,this.speedY=0,this.maxSpeed=5,this.projecttiles=[]}return _createClass(t,[{key:"update",value:function(){this.game.keys.includes("ArrowUp")?this.speedY=-this.maxSpeed:this.game.keys.includes("ArrowDown")?this.speedY=this.maxSpeed:this.speedY=0,this.y+=this.speedY,this.projecttiles.forEach(function(e){e.update()}),this.projecttiles=this.projecttiles.filter(function(e){return!e.markedForDeletion})}},{key:"draw",value:function(t){t.fillStyle="black",t.fillRect(this.x,this.y,this.width,this.height),this.projecttiles.forEach(function(e){e.draw(t)})}},{key:"shootTop",value:function(){0<this.game.ammo&&(this.projecttiles.push(new e(this.game,this.x+80,this.y+30)),this.game.ammo--)}}]),t}(),a=function(){function t(e){_classCallCheck(this,t),this.game=e,this.x=this.game.width,this.speedX=-1.5*Math.random()-.5,this.markedForDeletion=!1,this.lives=5,this.score=this.lives}return _createClass(t,[{key:"update",value:function(){this.x+=this.speedX,this.x+this.width<0&&(this.markedForDeletion=!0)}},{key:"draw",value:function(e){e.fillStyle="red",e.fillRect(this.x,this.y,this.width,this.height),e.fillStyle="black",e.font="20px Helvetica",e.fillText(this.lives,this.x,this.y)}}]),t}(),t=function(){_inherits(i,a);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),(e=t.call(this,e)).width=45.6,e.height=169*.2,e.y=Math.random()*(.9*e.game.height-e.height),e}return _createClass(i)}(),h=function(){function t(e){_classCallCheck(this,t),this.game=e,this.fontSize=25,this.fontFamily="Helvetica",this.color="orange"}return _createClass(t,[{key:"draw",value:function(e){e.save(),e.fillStyle=this.color,e.font=this.fontSize+"px "+this.fontFamily,e.shadowOffsetX=2,e.shadowOffsetY=2,e.shadowColor="black",e.fillText("Score: "+this.game.score,20,40);for(var t=0;t<this.game.ammo;t++)e.fillRect(20+5*t,50,3,20);var i,n=(.001*this.game.gameTime).toFixed(1);e.fillText("Timer: "+n+" s",20,100),this.game.gameOver&&(e.textAlign="center",n=this.game.score>this.game.winningScore?(i="You win","Well done!"):(i="You lose !","Try again!"),e.font="50px "+this.fontFamily,e.fillText(i,.5*this.game.width,.5*this.game.height-40),e.font="25px "+this.fontFamily,e.fillText(n,.5*this.game.width,.5*this.game.height+40)),e.restore()}}]),t}(),l=new(function(){function i(e,t){_classCallCheck(this,i),this.width=e,this.height=t,this.player=new r(this),this.input=new o(this),this.keys=[],this.ammo=20,this.maxAmmo=50,this.ammoTimer=0,this.ammoInterval=500,this.ui=new h(this),this.enemies=[],this.enemyTimer=0,this.enemyInterval=1e3,this.gameOver=!1,this.score=0,this.winningScore=10,this.gameTime=0,this.timeLimit=1e4}return _createClass(i,[{key:"update",value:function(e){var i=this;this.gameOver||(this.gameTime+=e),this.gameTime>this.timeLimit&&(this.gameOver=!0),this.player.update(),this.ammoTimer>this.ammoInterval?(this.ammo<this.maxAmmo&&this.ammo++,this.ammoTimer=0):this.ammoTimer+=e,this.enemies.forEach(function(t){t.update(),i.checkCollision(i.player,t)&&(t.markedForDeletion=!0),i.player.projecttiles.forEach(function(e){i.checkCollision(e,t)&&(t.lives--,e.markedForDeletion=!0,t.lives<=0&&(t.markedForDeletion=!0,i.score+=t.score,i.score>i.winningScore&&(i.gameOver=!0)))})}),this.enemies=this.enemies.filter(function(e){return!e.markedForDeletion}),this.enemyTimer>this.enemyInterval&&!this.gameOver?(this.addEnemy(),this.enemyTimer=0):this.enemyTimer+=e}},{key:"draw",value:function(t){this.player.draw(t),this.ui.draw(t),this.enemies.forEach(function(e){return e.draw(t)})}},{key:"addEnemy",value:function(){this.enemies.push(new t(this))}},{key:"checkCollision",value:function(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.height+e.y>t.y}}]),i}())(n.width,n.height),c=0;!function e(t){var i=t-c;c=t,s.clearRect(0,0,n.width,n.height),l.update(i),l.draw(s),requestAnimationFrame(e)}(0)});